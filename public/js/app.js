const hamburguer=document.querySelector(".hamburguer"),email={nombre:"",email:"",telefono:""},form=document.querySelector("#form"),inputName=document.querySelector("#name"),inputEmail=document.querySelector("#email"),inputTel=document.querySelector("#tel");function eventListeners(){hamburguer.addEventListener("click",openCloseNav),inputName.addEventListener("input",validar),inputEmail.addEventListener("input",validar),inputTel.addEventListener("input",validar),form.addEventListener("submit",sendEmail)}function openCloseNav(){const e=document.querySelector(".nav");e.classList.toggle("nav--activo"),closeNav(e)}function closeNav(e){document.querySelectorAll(".nav__link").forEach((t,a)=>{t.addEventListener("click",t=>{t.preventDefault();document.querySelector(t.target.attributes.href.value).scrollIntoView({behavior:"smooth"});"A"===t.target.tagName&&e.classList.remove("nav--activo")})}),window.addEventListener("click",t=>{const a=t.target.parentElement;e.classList.contains("nav--activo")&&a!==hamburguer&&e.classList.remove("nav--activo")})}function validar(e){const t=e.target.parentElement;return""===e.target.value.trim()?(showAlert(`El ${e.target.name} es obligatorio`,t),email[e.target.name]="",void comprobarEmail()):"email"!==e.target.name||validarEmail(e.target.value)?"telefono"!==e.target.name||validarTel(e.target.value)?(cleanAlert(t),email[e.target.name]=e.target.value.trim().toLowerCase(),void comprobarEmail()):(showAlert("El teléfono es inválido",t),email[e.target.name]="",void comprobarEmail()):(showAlert("El email es inválido",t),email[e.target.name]="",void comprobarEmail())}function showAlert(e,t){cleanAlert(t);const a=t.querySelector(".form__field");a.classList.add("form__field--error"),a.placeholder=e}function cleanAlert(e){const t=e.querySelector(".form__field--error");t&&(t.classList.remove("form__field--error"),t.placeholder="Ingresa tu "+t.name)}function validarEmail(e){return/^\w+([.-_+]?\w+)*@\w+([.-]?\w+)*(\.\w{2,10})+$/.test(e)}function validarTel(e){return/^(\+52|0052|52)?[ -]*[ -]*([0-9][ -]*){10}/.test(e)}function comprobarEmail(){const e=document.querySelector("#btnSubmit");Object.values(email).includes("")?e.disabled=!0:e.disabled=!1}function sendEmail(e){e.preventDefault();const t=document.querySelector("#spinner");t.classList.add("form__spinner--activo"),t.classList.remove("form__spinner"),setTimeout(()=>{t.classList.remove("form__spinner--activo"),t.classList.add("form__spinner"),resetForm();const e=document.createElement("P");e.classList.add("form__exito"),e.textContent="Mensaje envíado exitosamente",form.appendChild(e),setTimeout(()=>{e.remove()},2e3)},3e3)}function resetForm(){email.nombre="",email.email="",email.telefono="",form.reset(),comprobarEmail()}document.addEventListener("DOMContentLoaded",eventListeners);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJoYW1idXJndWVyIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiZW1haWwiLCJub21icmUiLCJ0ZWxlZm9ubyIsImZvcm0iLCJpbnB1dE5hbWUiLCJpbnB1dEVtYWlsIiwiaW5wdXRUZWwiLCJldmVudExpc3RlbmVycyIsImFkZEV2ZW50TGlzdGVuZXIiLCJvcGVuQ2xvc2VOYXYiLCJ2YWxpZGFyIiwic2VuZEVtYWlsIiwibmF2IiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwiY2xvc2VOYXYiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsImVhY2hMaW5rIiwiaW5kZXgiLCJlIiwicHJldmVudERlZmF1bHQiLCJ0YXJnZXQiLCJhdHRyaWJ1dGVzIiwiaHJlZiIsInZhbHVlIiwic2Nyb2xsSW50b1ZpZXciLCJiZWhhdmlvciIsInRhZ05hbWUiLCJyZW1vdmUiLCJ3aW5kb3ciLCJyZWZlcmVuY2lhIiwicGFyZW50RWxlbWVudCIsImNvbnRhaW5zIiwidHJpbSIsInNob3dBbGVydCIsIm5hbWUiLCJjb21wcm9iYXJFbWFpbCIsInZhbGlkYXJFbWFpbCIsInZhbGlkYXJUZWwiLCJjbGVhbkFsZXJ0IiwidG9Mb3dlckNhc2UiLCJtZW5zYWplIiwiZXJyb3IiLCJhZGQiLCJwbGFjZWhvbGRlciIsImFsZXJ0YSIsInRlc3QiLCJ0ZWwiLCJidG5TdWJtaXQiLCJPYmplY3QiLCJ2YWx1ZXMiLCJpbmNsdWRlcyIsImRpc2FibGVkIiwic3Bpbm5lciIsInNldFRpbWVvdXQiLCJyZXNldEZvcm0iLCJhbGVydGFFeGl0byIsImNyZWF0ZUVsZW1lbnQiLCJ0ZXh0Q29udGVudCIsImFwcGVuZENoaWxkIiwicmVzZXQiXSwibWFwcGluZ3MiOiJBQUNBLE1BQU1BLFdBQWFDLFNBQVNDLGNBQWMsZUFJcENDLE1BQVEsQ0FDWkMsT0FBUSxHQUNSRCxNQUFPLEdBQ1BFLFNBQVUsSUFHTkMsS0FBT0wsU0FBU0MsY0FBYyxTQUM5QkssVUFBWU4sU0FBU0MsY0FBYyxTQUNuQ00sV0FBYVAsU0FBU0MsY0FBYyxVQUNwQ08sU0FBV1IsU0FBU0MsY0FBYyxRQU14QyxTQUFTUSxpQkFFUFYsV0FBV1csaUJBQWlCLFFBQVNDLGNBR3JDTCxVQUFVSSxpQkFBaUIsUUFBU0UsU0FDcENMLFdBQVdHLGlCQUFpQixRQUFTRSxTQUNyQ0osU0FBU0UsaUJBQWlCLFFBQVNFLFNBQ25DUCxLQUFLSyxpQkFBaUIsU0FBVUcsV0FLbEMsU0FBU0YsZUFDUCxNQUFNRyxFQUFNZCxTQUFTQyxjQUFjLFFBRW5DYSxFQUFJQyxVQUFVQyxPQUFPLGVBRXJCQyxTQUFTSCxHQUdYLFNBQVNHLFNBQVNILEdBQ0NkLFNBQVNrQixpQkFBaUIsY0FFbENDLFFBQVEsQ0FBQ0MsRUFBVUMsS0FDMUJELEVBQVNWLGlCQUFpQixRQUFVWSxJQUNsQ0EsRUFBRUMsaUJBRWN2QixTQUFTQyxjQUFjcUIsRUFBRUUsT0FBT0MsV0FBV0MsS0FBS0MsT0FDeERDLGVBQWUsQ0FBRUMsU0FBVSxXQUdwQixNQUNYUCxFQUFFRSxPQUFPTSxTQUNYaEIsRUFBSUMsVUFBVWdCLE9BQU8sbUJBTTNCQyxPQUFPdEIsaUJBQWlCLFFBQVVZLElBRWhDLE1BQU1XLEVBQWFYLEVBQUVFLE9BQU9VLGNBT3hCcEIsRUFBSUMsVUFBVW9CLFNBQVMsZ0JBQWtCRixJQUFlbEMsWUFDMURlLEVBQUlDLFVBQVVnQixPQUFPLGlCQUszQixTQUFTbkIsUUFBUVUsR0FDZixNQUNNVyxFQUFhWCxFQUFFRSxPQUFPVSxjQUc1QixNQUpjLEtBSVZaLEVBQUVFLE9BQU9HLE1BQU1TLFFBQ2pCQyxVQUFVLE1BQU1mLEVBQUVFLE9BQU9jLHNCQUF1QkwsR0FDaEQvQixNQUFNb0IsRUFBRUUsT0FBT2MsTUFBUSxRQUN2QkMsa0JBTW9CLFVBQWxCakIsRUFBRUUsT0FBT2MsTUFBcUJFLGFBQWFsQixFQUFFRSxPQUFPRyxPQVNsQyxhQUFsQkwsRUFBRUUsT0FBT2MsTUFBd0JHLFdBQVduQixFQUFFRSxPQUFPRyxRQVF6RGUsV0FBV1QsR0FHWC9CLE1BQU1vQixFQUFFRSxPQUFPYyxNQUFRaEIsRUFBRUUsT0FBT0csTUFBTVMsT0FBT08sbUJBRzdDSixtQkFiRUYsVUFBVSwwQkFBMkJKLEdBQ3JDL0IsTUFBTW9CLEVBQUVFLE9BQU9jLE1BQVEsUUFDdkJDLG1CQVhBRixVQUFVLHVCQUF3QkosR0FDbEMvQixNQUFNb0IsRUFBRUUsT0FBT2MsTUFBUSxRQUN2QkMsa0JBdUJKLFNBQVNGLFVBQVVPLEVBQVNYLEdBQzFCUyxXQUFXVCxHQUdYLE1BQU1ZLEVBQVFaLEVBQVdoQyxjQUFjLGdCQUV2QzRDLEVBQU05QixVQUFVK0IsSUFBSSxzQkFDcEJELEVBQU1FLFlBQWNILEVBR3RCLFNBQVNGLFdBQVdULEdBRWxCLE1BQU1lLEVBQVNmLEVBQVdoQyxjQUFjLHVCQUVwQytDLElBQ0ZBLEVBQU9qQyxVQUFVZ0IsT0FBTyxzQkFDeEJpQixFQUFPRCxZQUFjLGNBQWNDLEVBQU9WLE1BSTlDLFNBQVNFLGFBQWF0QyxHQUlwQixNQUhtQixpREFDZStDLEtBQUsvQyxHQUt6QyxTQUFTdUMsV0FBV1MsR0FJbEIsTUFIaUIsNkNBQ2FELEtBQUtDLEdBS3JDLFNBQVNYLGlCQUNQLE1BQU1ZLEVBQVluRCxTQUFTQyxjQUFjLGNBRXJDbUQsT0FBT0MsT0FBT25ELE9BQU9vRCxTQUFTLElBQ2hDSCxFQUFVSSxVQUFXLEVBS3ZCSixFQUFVSSxVQUFXLEVBR3ZCLFNBQVMxQyxVQUFVUyxHQUNqQkEsRUFBRUMsaUJBRUYsTUFBTWlDLEVBQVV4RCxTQUFTQyxjQUFjLFlBRXZDdUQsRUFBUXpDLFVBQVUrQixJQUFJLHlCQUN0QlUsRUFBUXpDLFVBQVVnQixPQUFPLGlCQUV6QjBCLFdBQVcsS0FDVEQsRUFBUXpDLFVBQVVnQixPQUFPLHlCQUN6QnlCLEVBQVF6QyxVQUFVK0IsSUFBSSxpQkFHdEJZLFlBR0EsTUFBTUMsRUFBYzNELFNBQVM0RCxjQUFjLEtBQzNDRCxFQUFZNUMsVUFBVStCLElBQUksZUFDMUJhLEVBQVlFLFlBQWMsK0JBQzFCeEQsS0FBS3lELFlBQVlILEdBR2pCRixXQUFXLEtBQ1RFLEVBQVk1QixVQUNYLE1BQ0YsS0FHTCxTQUFTMkIsWUFFUHhELE1BQU1DLE9BQVMsR0FDZkQsTUFBTUEsTUFBUSxHQUNkQSxNQUFNRSxTQUFXLEdBRWpCQyxLQUFLMEQsUUFFTHhCLGlCQW5MRnZDLFNBQVNVLGlCQUFpQixtQkFBb0JEIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIFZhcmlhYmxlcyBOYXZcclxuY29uc3QgaGFtYnVyZ3VlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5oYW1idXJndWVyYCk7XHJcblxyXG4vLyBWYXJpYWJsZXMgZm9ybXVsYXJpb1xyXG5cclxuY29uc3QgZW1haWwgPSB7XHJcbiAgbm9tYnJlOiBgYCxcclxuICBlbWFpbDogYGAsXHJcbiAgdGVsZWZvbm86IGBgLFxyXG59O1xyXG5cclxuY29uc3QgZm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCNmb3JtYCk7XHJcbmNvbnN0IGlucHV0TmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCNuYW1lYCk7XHJcbmNvbnN0IGlucHV0RW1haWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjZW1haWxgKTtcclxuY29uc3QgaW5wdXRUZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjdGVsYCk7XHJcblxyXG4vLyBFdmVudG9zXHJcblxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKGBET01Db250ZW50TG9hZGVkYCwgZXZlbnRMaXN0ZW5lcnMpO1xyXG5cclxuZnVuY3Rpb24gZXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgLy8gQWJyaXIgeSBjZXJyYXIgbmF2XHJcbiAgaGFtYnVyZ3Vlci5hZGRFdmVudExpc3RlbmVyKGBjbGlja2AsIG9wZW5DbG9zZU5hdik7XHJcblxyXG4gIC8vIFZhbGlkYWNpb24gZm9ybXVsYXJpb1xyXG4gIGlucHV0TmFtZS5hZGRFdmVudExpc3RlbmVyKGBpbnB1dGAsIHZhbGlkYXIpO1xyXG4gIGlucHV0RW1haWwuYWRkRXZlbnRMaXN0ZW5lcihgaW5wdXRgLCB2YWxpZGFyKTtcclxuICBpbnB1dFRlbC5hZGRFdmVudExpc3RlbmVyKGBpbnB1dGAsIHZhbGlkYXIpO1xyXG4gIGZvcm0uYWRkRXZlbnRMaXN0ZW5lcihgc3VibWl0YCwgc2VuZEVtYWlsKTtcclxufVxyXG5cclxuLy8gRnVuY2lvbmVzXHJcblxyXG5mdW5jdGlvbiBvcGVuQ2xvc2VOYXYoKSB7XHJcbiAgY29uc3QgbmF2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLm5hdmApO1xyXG5cclxuICBuYXYuY2xhc3NMaXN0LnRvZ2dsZShgbmF2LS1hY3Rpdm9gKTtcclxuXHJcbiAgY2xvc2VOYXYobmF2KTtcclxufVxyXG5cclxuZnVuY3Rpb24gY2xvc2VOYXYobmF2KSB7XHJcbiAgY29uc3QgbmF2TGlua3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGAubmF2X19saW5rYCk7XHJcblxyXG4gIG5hdkxpbmtzLmZvckVhY2goKGVhY2hMaW5rLCBpbmRleCkgPT4ge1xyXG4gICAgZWFjaExpbmsuYWRkRXZlbnRMaXN0ZW5lcihgY2xpY2tgLCAoZSkgPT4ge1xyXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIC8vIFNjcm9sbCBhbCBkYXIgY2xpY2sgZW4gZW5sYWNlXHJcbiAgICAgIGNvbnN0IHNlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGUudGFyZ2V0LmF0dHJpYnV0ZXMuaHJlZi52YWx1ZSk7XHJcbiAgICAgIHNlY3Rpb24uc2Nyb2xsSW50b1ZpZXcoeyBiZWhhdmlvcjogYHNtb290aGAgfSk7XHJcblxyXG4gICAgICAvLyBDZXJyYXIgZWwgbWVudSBhbCBkYXIgY2xpY2sgZW4gZW5sYWNlXHJcbiAgICAgIGNvbnN0IGFuY2hvciA9IGBBYDtcclxuICAgICAgaWYgKGUudGFyZ2V0LnRhZ05hbWUgPT09IGFuY2hvcikge1xyXG4gICAgICAgIG5hdi5jbGFzc0xpc3QucmVtb3ZlKGBuYXYtLWFjdGl2b2ApO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgLy8gRXNjdWNoYXIgZWwgZXZlbnRvIGBjbGlja2AgZW4gbGEgdmVudGFuYSB3aW5kb3cgZGVsIG5hdmVnYWRvclxyXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcclxuICAgIC8vIE9idGVuZXIgZWwgZWxlbWVudG8gcGFkcmUgZGVsIGVsZW1lbnRvIGVuIGVsIHF1ZSBzZSBoaXpvIGNsaWMuXHJcbiAgICBjb25zdCByZWZlcmVuY2lhID0gZS50YXJnZXQucGFyZW50RWxlbWVudDtcclxuXHJcbiAgICAvKiBWZXJpZmljYXIgdHJlcyBjb25kaWNpb25lcyBhbnRlcyBkZSBlamVjdXRhciBlbCBjw7NkaWdvIGRlbnRybyBkZWwgaWY6XHJcbiAgICAgMS4gQ29tcHJvYmFyIHNpIGVsIGVsZW1lbnRvIG5hdiB0aWVuZSBsYSBjbGFzZSAnbmF2LS1hY3Rpdm8nLlxyXG4gICAgIDIuIENvbXByb2JhciBzaSBlbCBlbGVtZW50byBwYWRyZSBkZWwgZWxlbWVudG8gZW4gZWwgcXVlIHNlIGhpem8gY2xpYyBubyBlcyBpZ3VhbCBhbCBlbGVtZW50byBjb24gbGEgY2xhc2UgJ2hhbWJ1cmd1ZXInLlxyXG4gICAgU2kgdG9kYXMgbGFzIGNvbmRpY2lvbmVzIHNlIGN1bXBsZW4sIGFsdGVybmFyIGxhIHByZXNlbmNpYSBkZSBsYSBjbGFzZSAnbmF2LS1hY3Rpdm8nIGVuIGVsIGVsZW1lbnRvICduYXYnLlxyXG4gICAgKi9cclxuICAgIGlmIChuYXYuY2xhc3NMaXN0LmNvbnRhaW5zKGBuYXYtLWFjdGl2b2ApICYmIHJlZmVyZW5jaWEgIT09IGhhbWJ1cmd1ZXIpIHtcclxuICAgICAgbmF2LmNsYXNzTGlzdC5yZW1vdmUoYG5hdi0tYWN0aXZvYCk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHZhbGlkYXIoZSkge1xyXG4gIGNvbnN0IHZhY2lvID0gYGA7XHJcbiAgY29uc3QgcmVmZXJlbmNpYSA9IGUudGFyZ2V0LnBhcmVudEVsZW1lbnQ7XHJcblxyXG4gIC8vIEFsZXJ0YSBzaSB1biBmaWVsZCBlc3TDoSB2YWNpb1xyXG4gIGlmIChlLnRhcmdldC52YWx1ZS50cmltKCkgPT09IHZhY2lvKSB7XHJcbiAgICBzaG93QWxlcnQoYEVsICR7ZS50YXJnZXQubmFtZX0gZXMgb2JsaWdhdG9yaW9gLCByZWZlcmVuY2lhKTtcclxuICAgIGVtYWlsW2UudGFyZ2V0Lm5hbWVdID0gYGA7XHJcbiAgICBjb21wcm9iYXJFbWFpbCgpO1xyXG5cclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIC8vIFZhbGlkYXIgZWwgZW1haWxcclxuICBpZiAoZS50YXJnZXQubmFtZSA9PT0gYGVtYWlsYCAmJiAhdmFsaWRhckVtYWlsKGUudGFyZ2V0LnZhbHVlKSkge1xyXG4gICAgc2hvd0FsZXJ0KGBFbCBlbWFpbCBlcyBpbnbDoWxpZG9gLCByZWZlcmVuY2lhKTtcclxuICAgIGVtYWlsW2UudGFyZ2V0Lm5hbWVdID0gYGA7XHJcbiAgICBjb21wcm9iYXJFbWFpbCgpO1xyXG5cclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIC8vIFZhbGlkYXIgZWwgdGVsZWZvbm9cclxuICBpZiAoZS50YXJnZXQubmFtZSA9PT0gYHRlbGVmb25vYCAmJiAhdmFsaWRhclRlbChlLnRhcmdldC52YWx1ZSkpIHtcclxuICAgIHNob3dBbGVydChgRWwgdGVsw6lmb25vIGVzIGludsOhbGlkb2AsIHJlZmVyZW5jaWEpO1xyXG4gICAgZW1haWxbZS50YXJnZXQubmFtZV0gPSBgYDtcclxuICAgIGNvbXByb2JhckVtYWlsKCk7XHJcblxyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgY2xlYW5BbGVydChyZWZlcmVuY2lhKTtcclxuXHJcbiAgLy8gTGxlbmFyIGVsIG9iamV0byBlbWFpbFxyXG4gIGVtYWlsW2UudGFyZ2V0Lm5hbWVdID0gZS50YXJnZXQudmFsdWUudHJpbSgpLnRvTG93ZXJDYXNlKCk7XHJcblxyXG4gIC8vIFJldmlzYXIgZWwgb2JqZXRvIGVtYWlsXHJcbiAgY29tcHJvYmFyRW1haWwoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gc2hvd0FsZXJ0KG1lbnNhamUsIHJlZmVyZW5jaWEpIHtcclxuICBjbGVhbkFsZXJ0KHJlZmVyZW5jaWEpO1xyXG5cclxuICAvLyBHZW5lcmFyIGxhcyBhbGVydGFzXHJcbiAgY29uc3QgZXJyb3IgPSByZWZlcmVuY2lhLnF1ZXJ5U2VsZWN0b3IoYC5mb3JtX19maWVsZGApO1xyXG5cclxuICBlcnJvci5jbGFzc0xpc3QuYWRkKGBmb3JtX19maWVsZC0tZXJyb3JgKTtcclxuICBlcnJvci5wbGFjZWhvbGRlciA9IG1lbnNhamU7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNsZWFuQWxlcnQocmVmZXJlbmNpYSkge1xyXG4gIC8vIENvbXByb2JhciBzaSBleGlzdGUgbGEgYWxlcnRhXHJcbiAgY29uc3QgYWxlcnRhID0gcmVmZXJlbmNpYS5xdWVyeVNlbGVjdG9yKGAuZm9ybV9fZmllbGQtLWVycm9yYCk7XHJcblxyXG4gIGlmIChhbGVydGEpIHtcclxuICAgIGFsZXJ0YS5jbGFzc0xpc3QucmVtb3ZlKGBmb3JtX19maWVsZC0tZXJyb3JgKTtcclxuICAgIGFsZXJ0YS5wbGFjZWhvbGRlciA9IGBJbmdyZXNhIHR1ICR7YWxlcnRhLm5hbWV9YDtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHZhbGlkYXJFbWFpbChlbWFpbCkge1xyXG4gIGNvbnN0IHJlZ2V4RW1haWwgPSAvXlxcdysoWy4tXytdP1xcdyspKkBcXHcrKFsuLV0/XFx3KykqKFxcLlxcd3syLDEwfSkrJC87XHJcbiAgY29uc3QgcmVzdWx0YWRvRW1haWwgPSByZWdleEVtYWlsLnRlc3QoZW1haWwpO1xyXG5cclxuICByZXR1cm4gcmVzdWx0YWRvRW1haWw7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHZhbGlkYXJUZWwodGVsKSB7XHJcbiAgY29uc3QgcmVnZXhUZWwgPSAvXihcXCs1MnwwMDUyfDUyKT9bIC1dKlsgLV0qKFswLTldWyAtXSopezEwfS87XHJcbiAgY29uc3QgcmVzdWx0YWRvVGVsID0gcmVnZXhUZWwudGVzdCh0ZWwpO1xyXG5cclxuICByZXR1cm4gcmVzdWx0YWRvVGVsO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjb21wcm9iYXJFbWFpbCgpIHtcclxuICBjb25zdCBidG5TdWJtaXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjYnRuU3VibWl0YCk7XHJcblxyXG4gIGlmIChPYmplY3QudmFsdWVzKGVtYWlsKS5pbmNsdWRlcyhgYCkpIHtcclxuICAgIGJ0blN1Ym1pdC5kaXNhYmxlZCA9IHRydWU7XHJcblxyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgYnRuU3VibWl0LmRpc2FibGVkID0gZmFsc2U7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNlbmRFbWFpbChlKSB7XHJcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICBjb25zdCBzcGlubmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgI3NwaW5uZXJgKTtcclxuXHJcbiAgc3Bpbm5lci5jbGFzc0xpc3QuYWRkKGBmb3JtX19zcGlubmVyLS1hY3Rpdm9gKTtcclxuICBzcGlubmVyLmNsYXNzTGlzdC5yZW1vdmUoYGZvcm1fX3NwaW5uZXJgKTtcclxuXHJcbiAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICBzcGlubmVyLmNsYXNzTGlzdC5yZW1vdmUoYGZvcm1fX3NwaW5uZXItLWFjdGl2b2ApO1xyXG4gICAgc3Bpbm5lci5jbGFzc0xpc3QuYWRkKGBmb3JtX19zcGlubmVyYCk7XHJcblxyXG4gICAgLy8gUmVpbmljaWFyIGVsIGZvcm11bGFyaW9cclxuICAgIHJlc2V0Rm9ybSgpO1xyXG5cclxuICAgIC8vIENyZWFyIGFsZXJ0YSBkZSBleGl0b1xyXG4gICAgY29uc3QgYWxlcnRhRXhpdG8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGBQYCk7XHJcbiAgICBhbGVydGFFeGl0by5jbGFzc0xpc3QuYWRkKGBmb3JtX19leGl0b2ApO1xyXG4gICAgYWxlcnRhRXhpdG8udGV4dENvbnRlbnQgPSBcIk1lbnNhamUgZW52w61hZG8gZXhpdG9zYW1lbnRlXCI7XHJcbiAgICBmb3JtLmFwcGVuZENoaWxkKGFsZXJ0YUV4aXRvKTtcclxuXHJcbiAgICAvLyBFbGltaW5hciBsYSBhbGVydGEgZGVzcHVlcyBkZSBtb3N0cmFybGFcclxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICBhbGVydGFFeGl0by5yZW1vdmUoKTtcclxuICAgIH0sIDIwMDApO1xyXG4gIH0sIDMwMDApO1xyXG59XHJcblxyXG5mdW5jdGlvbiByZXNldEZvcm0oKSB7XHJcbiAgLy8gUmVpbmljaWFyIGVsIG9iamV0b1xyXG4gIGVtYWlsLm5vbWJyZSA9IGBgO1xyXG4gIGVtYWlsLmVtYWlsID0gYGA7XHJcbiAgZW1haWwudGVsZWZvbm8gPSBgYDtcclxuXHJcbiAgZm9ybS5yZXNldCgpO1xyXG5cclxuICBjb21wcm9iYXJFbWFpbCgpO1xyXG59XHJcbiJdfQ==
